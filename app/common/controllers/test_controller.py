

from flask import jsonify
import json
from app.modules.cookie.services.cookie_service import CookieService
from app.modules.profile.models.profile import Profile
from app.common.utilities.json_enconder import JSONEncoder
from app.common.utilities.exception_utility import ExceptionUtility
from app.database.repositories.mongo_repository import MongoRepository
from app.modules.instagram.utilities.instagram_utility import InstagramUtility

class TestController():
    
   @staticmethod
   def my_test():
      return TestController.test()

   def test():
        try:
           #print ("ENTROU")
           rjson = {'pk': '26633036', 'username': 'anitta', 'full_name': 'Anitta ðŸŽ¤', 'is_private': False, 'profile_pic_url': Url('https://instagram.fcgh37-1.fna.fbcdn.net/v/t51.2885-19/427734288_401326392481811_94768553339774149_n.jpg?stp=dst-jpg_e0_s150x150&_nc_ht=instagram.fcgh37-1.fna.fbcdn.net&_nc_cat=1&_nc_ohc=MLH372Rx4JEAX91Nj7G&edm=AKralEIBAAAA&ccb=7-5&oh=00_AfCLTYqSCfnmwvc5iLXRbo-HStSeHttWkN3LzfRx7d-oWQ&oe=65E2601F&_nc_sid=2fe71f'), 'profile_pic_url_hd': Url('https://instagram.fcgh37-1.fna.fbcdn.net/v/t51.2885-19/427734288_401326392481811_94768553339774149_n.jpg?stp=dst-jpg_s640x640&_nc_ht=instagram.fcgh37-1.fna.fbcdn.net&_nc_cat=1&_nc_ohc=MLH372Rx4JEAX91Nj7G&edm=AKralEIBAAAA&ccb=7-5&oh=00_AfBeFR5yKKOlgHJ5iGvNQgbTbtoJaqd0zPNXWTAMKDv1eg&oe=65E2601F&_nc_sid=2fe71f'), 'is_verified': True, 'media_count': 5499, 'follower_count': 65124457, 'following_count': 3326, 'biography': 'ðŸ‡§ðŸ‡·\nðŸŒ›ðŸŒœ\nJoga pra Lua - ouÃ§a agora', 'external_url': 'http://anitta.lnk.to  /JogaPraLua', 'account_type': 3, 'is_business': False, 'public_email': '', 'contact_phone_number': '', 'public_phone_country_code': '', 'public_phone_number': '', 'business_contact_method': 'UNKNOWN', 'business_category_name': None, 'category_name': None, 'category': 'Artist', 'address_street': '', 'city_id': '0', 'city_name': '', 'latitude': 0.0, 'longitude': 0.0, 'zip': '', 'instagram_location_id': '', 'interop_messaging_user_fbid': None, 'image_base64': 'data:image/png;base64,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'}
           result = InstagramUtility.stream_image_to_base64("https://scontent-ham3-1.cdninstagram.com/v/t51.2885-19/427734288_401326392481811_94768553339774149_n.jpg?stp=dst-jpg_e0_s150x150&_nc_ht=scontent-ham3-1.cdninstagram.com&_nc_cat=1&_nc_ohc=MLH372Rx4JEAX_yrRvb&edm=AKralEIBAAAA&ccb=7-5&oh=00_AfC0tvq6VCGmvAADtln7i6VlSXWHl5LmuYXmZEUBpB8Ztw&oe=65E2601F&_nc_sid=2fe71f",{"width":50,"height":50,"quality":100})
           #print ("RESTUL",result)
           return jsonify({"success":True,"image":result})
        except Exception as e:
            return ExceptionUtility.catch_response(e,'Error Test')